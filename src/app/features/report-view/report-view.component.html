<div class="px-6 py-4 bg-gradient-to-r from-green-500 to-blue-500 border-b border-gray-100">
    <h2 class="text-xl font-semibold text-white flex items-center gap-2">
        <i class="fas fa-file-alt text-blue-600"></i>
        Generated Report
    </h2>
</div>
<div class="p-6">
    <div *ngIf="loading()" class="flex items-center justify-center py-24">
        <div class="flex items-center gap-3 text-gray-600">
            <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"></div>
            <span>Generating report...</span>
        </div>
    </div>

    <div *ngIf="error()" class="rounded-lg border border-red-200 bg-red-50 p-4">
        <div class="flex items-start gap-3">
            <div class="text-red-600">
                <fa-icon [icon]="['fas', 'circle-exclamation']"></fa-icon>
            </div>
            <div class="text-red-800">
                <p class="font-medium">{{ error() }}</p>
                <p class="text-sm mt-1">{{ message() }}</p>
            </div>
        </div>
    </div>

    <div *ngIf="report() as r" class="space-y-6">
        <div class="border-l-4 border-red-500 pl-4">
            <h3 class="font-semibold text-gray-700 mb-2 flex items-center gap-2">
                <i class="fas fa-exclamation-circle text-red-500"></i>
                Issue
            </h3>
            <p class="text-gray-700 text-sm leading-relaxed">
                {{ r.issues }}
            </p>
        </div>

        <div class="border-l-4 border-amber-500 pl-4">
            <h3 class="font-semibold text-gray-700 mb-2 flex items-center gap-2">
                <div class="text-amber-500">
                    <fa-icon [icon]="['fas', 'triangle-exclamation']"></fa-icon>
                </div>
                Risk
            </h3>
            <p class="text-gray-700 text-sm leading-relaxed">
                {{ r.risks }}
            </p>
        </div>

        <div class="border-l-4 border-green-500 pl-4">
            <h3 class="font-semibold text-gray-700 mb-2 flex items-center gap-2">
                <i class="fas fa-lightbulb text-green-500"></i>
                Recommendation
            </h3>
            <p class="text-gray-700 text-sm leading-relaxed">
                {{ r.recommendations }}
            </p>
        </div>

        <div class="border-l-4 border-blue-500 pl-4">
            <h3 class="font-semibold text-gray-700 mb-2 flex items-center gap-2">
                <i class="fas fa-search text-blue-500"></i>
                Root Cause
            </h3>
            <p class="text-gray-700 text-sm leading-relaxed">
                {{ r.root_causes }}
            </p>
        </div>
    </div>

    <div *ngIf="!loading() && !error() && !report()" class="text-center py-12">
        <div class="text-gray-400 mb-4">
            <i class="fas fa-file-alt text-4xl"></i>
        </div>
        <p class="text-gray-500 font-medium">No output yet.</p>
        <p class="text-sm text-gray-400 mt-1">Generate a report to see it here.</p>
    </div>
</div>